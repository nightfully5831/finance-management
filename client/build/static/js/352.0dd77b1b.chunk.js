"use strict";(self.webpackChunkfinance_dashboard=self.webpackChunkfinance_dashboard||[]).push([[352],{53517:(e,s,r)=>{r.d(s,{BD:()=>a,Ud:()=>n,xw:()=>o});var t=r(63204);const a=async e=>{try{let s="";if(await t.Ay.post(t.vZ.auth.forgotPassword,{email:e}).then((()=>{s="success"})).catch((e=>{var r,t;s=(null===e||void 0===e||null===(r=e.response)||void 0===r||null===(t=r.data)||void 0===t?void 0:t.message)||"Failed to send reset email"})),"success"!==s)throw new Error(s);return{message:"Password reset link sent successfully"}}catch(s){throw console.error("Error in forgotPassword:",s),s}},n=async e=>{try{let s={type:"",data:{}};if(await t.Ay.get("".concat(t.vZ.auth.verifyToken,"/").concat(e)).then((e=>{s={type:"success",data:e.data}})).catch((e=>{var r,t;const a=(null===e||void 0===e||null===(r=e.response)||void 0===r||null===(t=r.data)||void 0===t?void 0:t.message)||"Invalid or expired token";s={type:"error",data:a}})),"error"===s.type)throw new Error(s.data);return s.data}catch(s){throw console.error("Error in verifyResetToken:",s),s}},o=async(e,s)=>{try{let r="";if(await t.Ay.post("".concat(t.vZ.auth.resetPassword),{password:s,token:e}).then((()=>{r="success"})).catch((e=>{var s,t;r=(null===e||void 0===e||null===(s=e.response)||void 0===s||null===(t=s.data)||void 0===t?void 0:t.message)||"Failed to reset password"})),"success"!==r)throw new Error(r);return{message:"Password has been reset successfully"}}catch(r){throw console.error("Error in resetPassword:",r),r}}},83352:(e,s,r)=>{r.r(s),r.d(s,{default:()=>p});var t=r(29490),a=r(80899),n=r(65043),o=r(24858),i=r(18403),l=r(74161),d=r(88446),c=r(77718),u=r(88911),h=r(94496),m=r(7353),v=r(48407),w=r(99933),y=r(98357),f=r(53517),x=r(70579);function g(){const[e,s]=(0,n.useState)(""),[r,t]=(0,n.useState)(""),g=a.Ik().shape({email:a.Yj().required("Email is required").email("Email must be a valid email address")}),p=(0,o.mN)({resolver:(0,i.t)(g),defaultValues:{email:""}}),{reset:j,handleSubmit:b,formState:{isSubmitting:A}}=p,k=b((async e=>{try{await(0,f.BD)(e.email),j(),s("Password reset link sent to your email!"),t("")}catch(r){console.error(r),t("string"===typeof r?r:r.message),s("")}}));return(0,x.jsx)(m.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,x.jsx)(m.A,{sx:{width:500},children:(0,x.jsxs)(y.A,{methods:p,onSubmit:k,children:[(0,x.jsxs)(u.A,{spacing:3,sx:{mb:5},children:[(0,x.jsx)(h.A,{variant:"h4",children:"Forgot your password?"}),(0,x.jsx)(h.A,{variant:"body2",sx:{color:"text.secondary"},children:"Please enter the email address associated with your account and we will send you a link to reset your password."})]}),!!e&&(0,x.jsx)(c.A,{severity:"success",children:e}),!!r&&(0,x.jsx)(c.A,{severity:"error",children:r}),(0,x.jsxs)(u.A,{spacing:2,children:[(0,x.jsx)(y.o,{name:"email",label:"Email address"}),(0,x.jsx)(l.A,{fullWidth:!0,size:"large",type:"submit",variant:"contained",loading:A,children:"Send Reset Link"}),(0,x.jsx)(d.A,{component:w.W,href:v.f.auth.jwt.login,variant:"body2",color:"inherit",sx:{alignSelf:"center"},children:"Return to sign in"})]})]})})})}function p(){return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(t.mg,{children:(0,x.jsx)("title",{children:" Forgot Password | Revenue Dashboard"})}),(0,x.jsx)(g,{})]})}}}]);
//# sourceMappingURL=352.0dd77b1b.chunk.js.map